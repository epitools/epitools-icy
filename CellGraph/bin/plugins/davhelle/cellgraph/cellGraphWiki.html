<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/></head><body><p><span style="font-size:30">CellGraph Plugin Tutorial</span></p><p><ins>Contents</ins></p><ol class="toc" style="list-style: none;"><li><a href="#Pluginrequirements">Plugin requirements</a></li><li><a href="#Pluginlaunch">Plugin launch</a><ol style="list-style: none;"><li><a href="#WorkFlowConcept">Work Flow Concept</a></li><li><a href="#CellGraphCreateaSpatiotemporalGraphstGraph">CellGraph: Create a Spatiotemporal Graph (stGraph)</a><ol style="list-style: none;"><li><a href="#InputParameters">Input Parameters</a></li><li><a href="#TrackingParameters">Tracking Parameters</a></li><li><a href="#ExecuteCellGraph">Execute CellGraph</a></li></ol></li><li><a href="#CellPainterCreateanoverlayovertheactivesequence">CellPainter: Create an overlay over the active sequence</a></li></ol></li><li><a href="#ExampleSkeleton">Example Skeleton</a></li></ol><h2 id="Pluginrequirements">Plugin requirements</h2><p>Assuming that you loaded the GIT repository into eclipse, the following software needs to be added:</p><ul><li>Icy: an open community platform for bioimage informatics ( <a href="http://icy.bioimageanalysis.org">homepage</a> )</li><li>Icy4Eclipse: a nice and easy way to integrate icy into eclipse ( <a href="http://icy.bioimageanalysis.org/index.php?display=startDevWithIcy">tutorial</a> )</li><li>JGraphT: a free Java graph library ( <a href="http://sourceforge.net/projects/jts-topo-suite/">sourceforge</a> )</li><li>JTS: the Java topology suite ( <a href="http://sourceforge.net/projects/jgrapht/">sourceforge</a> )</li></ul><p>To successfully link the last to libraries change the Build path of your java project by adding the external jar files.</p><h2 id="Pluginlaunch">Plugin launch</h2><p>Start icy from within Eclipse by clicking on the Debug button (R=Release; D=Debug; U=Update Mode). Icy should now be open otherwise check that the icy4eclipse preferences are set right (see tutorial above).<br/><img style="width:40%" border="0" src="tutorial_images/start_icy.png"/><img style="width:40%" border="0" src="tutorial_images/icy_main.png"/></p><p>switch to the <em>Plugins</em> tab and select the CellGraph from the <em>Other Plugins</em> menu item (see image below)<br/><img style="width:40%" border="0" src="tutorial_images/icy_plugin_tab.png"/><img style="width:40%" border="0" src="tutorial_images/icy_open_CellGraph.png"/></p><p>you should now see GUI interface of <em>CellGraph</em></p><p><img style="width:20%" border="0" src="tutorial_images/CellGraph.png"/></p><h3 id="WorkFlowConcept">Work Flow Concept</h3><p>First open the image you want to overlay the result on (in absense also an empty stack can do the job)</p><p>The current version of CellGraph is a two step procedure. First through the main plugin (<em>CellGraph</em>) we specify the input files and set the tracking (optional) which creates the SpatioTemporal Graph structure ( <a href="tutorial_images/CellGraphUML.png">UML diagram</a> ). If the <em>Do tracking</em> option has been used the tracking result is now shown as overlay. Otherwise in the second step through the painter plugin (<em>CellPainter</em>) we can create various overlays that all use the Spatiotemporal graph structure created by <em>CellGraph</em>. As a technical note, the java graph object is exchanged between the two plugins through the <em>Swimming pool</em> feature of ICY. </p><p><img style="width:40%" border="0" src="tutorial_images/CellGraph_Workflow.png"/></p><h3 id="CellGraphCreateaSpatiotemporalGraphstGraph">CellGraph: Create a Spatiotemporal Graph (stGraph)</h3><h4 id="InputParameters">Input Parameters</h4><table><tr><th>Input type</th><td>Specifies the type of input the Plugin will receive<sup class="footnote"><a href="#___fn1">1</a></sup></td></tr><tr><th>Direct input</th><td>Option to automatically adjust to an input from a specific segmentation tool<sup class="footnote"><a href="#___fn2">2</a></sup></td></tr><tr><th>Select file</th><td>Launches a file selection menu will appear and the user is asked to select the first skeleton to be read in (see exceptions for <em>direct input</em> choices)</td></tr><tr><th>Time points</th><td>Number of files that should be read in by the plugin. To use this function it is important that the files follow the naming convention which defines that last two characters of the name (before the .ext) specify the time point</td></tr><tr><th>Eliminate one border line</th><td>Removes the most outer ring of cells which might have suffered from sub-optimal segmentation.</td></tr><tr><th>Remove too small cells</th><td>Eliminate cells that are smaller than a threshold area which can be specified in the menu active after selection (see below). This can be useful if the skeleton happened to contain simple points.</td></tr></table><p id="___fn1" class="footnote"><sup>1</sup> Currently supported <em>input types</em>:<br/>* 8-connected-skeleton files ( all common image extensions are supported ) <br/>* VTK Polydata mesh files ( <a href="http://www.cacr.caltech.edu/~slombey/asci/vtk/vtk_formats.simple.html">specification</a> )</p><p id="___fn2" class="footnote"><sup>2</sup> Currently supported segmentation tools for <em>direct input</em>:<br/>* SeedWater Segmenter (choose the first file in output dir, Skeletons are adjusted to input requirements, needs small cell elimination)<br/>* Packing Analyzer (choose the first input file, tool recognizes the folder structure where handcorrection.png should be stored)</p><h4 id="TrackingParameters">Tracking Parameters</h4><table><tr><th>Algorithm</th><td>Tracking algorithm to be used for linking the cells in time </td></tr><tr><th>Max. displacement</th><td>Maximum displacements between consecutive frames of a single cell center </td></tr><tr><th>Linkrange</th><td>How many frames ahead the information should be propagated (limited by the amount of moving)</td></tr><tr><th>Write TrackID</th><td>Label the cells in the tracking overlay with their number ID</td></tr><tr><th>Highlight Mistakes</th><td>Do not fill the cells with their assigned tracking color but highlight likely mistakes (INSERT LEGEND!)</td></tr><tr><th>Load division file</th><td>Add a file specifying the divisions occurred in the sample (Revision needed)</td></tr><tr><th>Draw displacement</th><td>Add little arrows to show were the cell center is migrating from frame to frame</td></tr></table><h4 id="ExecuteCellGraph">Execute CellGraph</h4><p>To run the plugin just hit the triangle on the left-bottom-corner of the GUI window. The stGraph object will be automatically inserted into the ICY swimming pool (ICYsp) cache structure, unless the relative option is unselected. </p><h3 id="CellPainterCreateanoverlayovertheactivesequence">CellPainter: Create an overlay over the active sequence</h3><p>By choosing one of the available painters (see below) the current stGraph in the ICYsp is used to generate the specific overlay / <em>Painter type</em> </p><p><img style="Width: 20%" border="0" src="tutorial_images/CellPainter_main.png"/></p><table><tr><th>CELLS</th><td>Cell view of the tissue. <em>Polygons</em> outlines the cells, while <em>Centers</em> places a dot on the centroid.  cells obtained by a skeleton can be furthermore abstracted by a minimal polygon which is based on all the branching points between 3/4 cells (<em>Derived Polygon</em> option). Also if wished the cells centers can be written out as text file (TO BE REFINED, BETA).</td></tr><tr><th>BORDER</th><td>Evidences all the cells on the border of the segmented area</td></tr><tr><th>VORONOI</th><td>Generates a voronoi diagram (ADD definition link) from all the centroids. <em>Area difference</em> evidences through a color code whether the area of the segmented cell is bigger or smaller than the area of the correspondent voronoi cell.</td></tr><tr><th>POLYGON_CLASS</th><td>Generates an overview which writes the neighbor number in each cell, i.e. the number of faces of the minimal polygon.</td></tr><tr><th>READ_DIVISIONS</th><td>Takes an input file listing all the divisions happened and propagates the information when tracking is available</td></tr><tr><th>AREA_THRESHOLD</th><td>Highlights all the cells that are bigger than the given area threshold.</td></tr></table><h2 id="ExampleSkeleton">Example Skeleton</h2><p>The <em>tutorial images</em> folder contains a skeleton file generated with SeedWater which can be used for testing purposes, i.e. Outline_0_000.tif. It works with the default parameter settings (<em>Direct input</em>: SeedWater) and as base layer you can open the same file as in the example figure below. Since SeedWater does not produce conventional skeletons, it is automatically pre-processed with a renewed ImageJ skeletonization removing simple points (see <code>cellgraph.io.SkeletonReader.java</code> for more details).</p><p><img style="width:80%" border="0" src="tutorial_images/Example_Skeleton.png"/></p><p><em>This tutorial was written by Davide Heller (Basler Lab 2013&#174;)</em></p></body></html>